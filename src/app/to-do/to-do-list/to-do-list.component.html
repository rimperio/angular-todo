<ng-container *ngIf="tasks$ | async as tasks">
    <div class="card p-2" *ngFor="let task of tasks.array">
      <app-to-do-item [task_id]="task.id"></app-to-do-item>
    </div>
    <div class="d-flex flex-wrap align-items-center justify-content-between">
      <p class="m-0">
        {{ tasks.active }}
        {{ tasks.active === 1 ? "task" : "tasks" }} left
      </p>
      <div class="menu d-flex flex-wrap align-items-center justify-content-around">
        <button routerLink="/all" routerLinkActive="active" class="flex-grow-1 btn btn-outline-secondary">
          All
        </button>
        <button routerLink="/active" routerLinkActive="active" class="flex-grow-1 btn btn-outline-secondary"
          [disabled]="!tasks.active ">
          Active
        </button>
        <button routerLink="/completed" routerLinkActive="active" class="flex-grow-1 btn btn-outline-secondary"
          [disabled]="!tasks.completed ">
          Completed
        </button>
      </div>
      <button class="btn btn-outline-danger" (click)="clearCompleted()" [disabled]="!tasks.completed">
        Clear Completed
      </button>
    </div>
  </ng-container>